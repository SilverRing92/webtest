<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 테스트</title>
</head>

<body>
    <h1>사이트</h1>
    <input id="bookNameInput">
    <button id="searchBtn">검색</button>
    <p></p>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>    
    <script>
        $(function () {
            $("#searchBtn").click(function() {
                $.ajax({
                    method: "GET",
                    url: "https://dapi.kakao.com/v3/search/book?target=title",
                    data: { query: $("#bookNameInput").val() },
                    headers: { Authorization: "KakaoAK 8f3cbb52a936d586a1da928573575015" }
                });
                

                .done(function (msg) {
                    // console.log(msg.documents[0].title);
                    // console.log(msg.documents[0].thumbnail);
                    $( "p" ).append( "<strong>" + msg.documents[0].title + "</strong>" );
                    $( "p" ).append( "<img src='" + msg.documents[0].thumbnail + "'/>" );
                });
            })
        });
         
    </script>
    <script type="text/javascript">  
    var Request = function() {  
        this.getParameter = function(name) {  
            var rtnval = '';  
            var nowAddress = unescape(location.href);  
            var parameters = (nowAddress.slice(nowAddress.indexOf('?') + 1,  
                    nowAddress.length)).split('&');  
            for (var i = 0; i < parameters.length; i++) {  
                var varName = parameters[i].split('=')[0];  
                if (varName.toUpperCase() == name.toUpperCase()) {  
                    rtnval = parameters[i].split('=')[1];  
                    break;  
                }  
            }  
            return rtnval;  
        }  
    }  
    var request = new Request();  
</script>  
  
<script type="text/javscript>  
    var paramValue = request.getParameter('parameter_name');  
</script>  
</body>

</html>
